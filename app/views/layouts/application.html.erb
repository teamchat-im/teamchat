<% content_for :body do %>
  <div class="app">
    <div class="drawer-wrapper">
      <nav id="drawer" class="drawer" data-controller="drawer" data-drawer-persistence="true">
        <div class="drawer__container">
          <div class="drawer__header">
            <div class="toolbar">
              <div class="toolbar__avatar">
              </div>
              <div class="toolbar__title">
                <%= current_user.username %>
              </div>
              <div class="toolbar__action">
                <div class="dropdown" data-controller="dropdown">
                  <button type="button" class="button button--icon" data-action="dropdown#toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                  </button>
                  <div class="dropdown__menu dropdown__menu--top-right dropdown__menu--small">
                    <a href="#" class="dropdown__item">Profile</a>
                    <a href="#" class="dropdown__item">Settings</a>
                    <hr class="divider">
                    <a href="#" class="dropdown__item">Sign out</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="drawer__body">
            <div class="drawer__menu">
              <a href="/" class="drawer__item">
                <div class="drawer__item__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
                </div>
                Home
              </a>
              <a href="#" class="drawer__item">
                <div class="drawer__item__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 18l2 1V3c0-1.1-.9-2-2-2H8.99C7.89 1 7 1.9 7 3h10c1.1 0 2 .9 2 2v13zM15 5H5c-1.1 0-2 .9-2 2v16l7-3 7 3V7c0-1.1-.9-2-2-2z"/></svg>
                </div>
                Bookmarks
              </a>
              <a href="#" class="drawer__item">
                <div class="drawer__item__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"/></svg>
                </div>
                Files
              </a>
            </div>
            <hr class="divider">
            <div class="drawer__menu">
              <% current_user.rooms.each do |room| %>
                <a href="<%= room_path(room) %>" class="drawer__item">
                  <div class="drawer__item__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
                  </div>
                  <%= room.name %>
                </a>
              <% end %>
            </div>
          </div>
        </div>
      </nav>
      <%= yield %>
    </div>
  </div>
<% end %>

<%= render template: 'layouts/base' %>
